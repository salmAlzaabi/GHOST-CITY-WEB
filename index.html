<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GHOST CITY</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #1c1c1c;
      color: #fff;
      margin: 0;
      padding: 0;
    }
    .header {
      background-color: #333;
      padding: 20px;
      text-align: center;
    }
    .header h1 {
      margin: 0;
      font-size: 36px;
    }
    .button {
      background-color: #444;
      color: #fff;
      padding: 10px 20px;
      margin: 20px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      font-size: 16px;
    }
    .button:hover {
      background-color: #555;
    }
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #333;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.5);
      z-index: 9999;
    }
    .popup input, .popup select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background-color: #444;
      border: none;
      border-radius: 5px;
      color: #fff;
    }
    .popup input:focus, .popup select:focus {
      outline: none;
      border: 2px solid #666;
    }
    .popup button {
      background-color: #28a745;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .popup button:hover {
      background-color: #218838;
    }
    .close-btn {
      background-color: #dc3545;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .close-btn:hover {
      background-color: #c82333;
    }
    .checkmark {
      font-size: 48px;
      color: #28a745;
      text-align: center;
    }
    .checkmark svg {
      animation: checkmark 1s ease-out;
    }
    @keyframes checkmark {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>

  <!-- Header Section -->
  <div class="header">
    <h1>GHOST CITY</h1>
    <button class="button" id="openJobPopup">تقديم الوظائف</button>
  </div>

  <!-- Job Selection Popup -->
  <div class="popup" id="jobPopup">
    <h2>اختر الوظيفة</h2>
    <button class="button" onclick="openJobForm('وزارة الداخلية')">وزارة الداخلية</button>
    <button class="button" onclick="openJobForm('وزارة العدل')">وزارة العدل</button>
    <button class="button" onclick="openJobForm('وزارة التجارة')">وزارة التجارة</button>
    <button class="button" onclick="openJobForm('وزارة الصحة')">وزارة الصحة</button>
    <button class="close-btn" onclick="closePopup()">إغلاق</button>
  </div>

  <!-- Job Form Popup -->
  <div class="popup" id="jobFormPopup">
    <h2 id="jobTitle">نموذج تقديم لوظيفة</h2>
    <form id="jobForm">
      <label for="discordUsername">يوزر الديسكورد:</label>
      <input type="text" id="discordUsername" name="discordUsername" placeholder="أدخل يوزر الديسكورد" required>

      <label for="characterName">اسم الشخصية:</label>
      <input type="text" id="characterName" name="characterName" placeholder="أدخل اسم الشخصية" required>

      <label for="extraQuestion">السؤال الإضافي:</label>
      <input type="text" id="extraQuestion" name="extraQuestion" placeholder="إضافة سؤال حسب الوظيفة" required>

      <button type="submit" class="button">إرسال التقديم</button>
    </form>
    <button class="close-btn" onclick="closePopup()">إغلاق</button>
  </div>

  <!-- Success Popup -->
  <div class="popup" id="successPopup">
    <div class="checkmark">
      <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="45" stroke="green" stroke-width="5" fill="none" />
        <path fill="none" stroke="green" stroke-width="5" d="M35 50 L45 60 L65 40" />
      </svg>
    </div>
    <h2>تم إرسال تقديمك!</h2>
    <p>سيتم التواصل معك في الخاص عبر ديسكورد.</p>
    <button class="close-btn" onclick="closeSuccessPopup()">إغلاق</button>
  </div>

  <script>
    const openJobPopupBtn = document.getElementById('openJobPopup');
    const jobPopup = document.getElementById('jobPopup');
    const jobFormPopup = document.getElementById('jobFormPopup');
    const successPopup = document.getElementById('successPopup');
    const jobForm = document.getElementById('jobForm');
    const jobTitle = document.getElementById('jobTitle');

    // Open the Job Selection Popup
    openJobPopupBtn.addEventListener('click', () => {
      jobPopup.style.display = 'block';
    });

    // Close Popup
    function closePopup() {
      jobPopup.style.display = 'none';
      jobFormPopup.style.display = 'none';
    }

    // Open Job Form based on selected job
    function openJobForm(job) {
      jobPopup.style.display = 'none';
      jobFormPopup.style.display = 'block';
      jobTitle.innerHTML = `نموذج تقديم لوظيفة ${job}`;
      
      // Modify form questions based on the selected job
      const extraQuestionInput = document.getElementById('extraQuestion');
      if (job === 'وزارة الداخلية') {
        extraQuestionInput.placeholder = "أدخل سؤال خاص بوزارة الداخلية";
      } else if (job === 'وزارة العدل') {
        extraQuestionInput.placeholder = "أدخل سؤال خاص بوزارة العدل";
      } else if (job === 'وزارة التجارة') {
        extraQuestionInput.placeholder = "أدخل سؤال خاص بوزارة التجارة";
      } else if (job === 'وزارة الصحة') {
        extraQuestionInput.placeholder = "أدخل سؤال خاص بوزارة الصحة";
      }
    }

    // Handle form submission
    jobForm.addEventListener('submit', (event) => {
      event.preventDefault();

      const discordUsername = document.getElementById('discordUsername').value;
      const characterName = document.getElementById('characterName').value;
      const extraQuestion = document.getElementById('extraQuestion').value;

      // Send data to Discord Webhook
      const webhookURL = 'https://discord.com/api/webhooks/1360161717778124911/ADgzbyld6x_Oe8DHFEO8rKShw9uzCBFmWW6paN_VeMg55v33Rjyf9tnaswBtcm0Gitaw';
      
      const payload = {
        username: discordUsername,
        content: `تم تقديم طلب وظيفة من قبل ${discordUsername} (اسم الشخصية: ${characterName}).\nالسؤال الإضافي: ${extraQuestion}`
      };

      fetch(webhookURL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(payload)
      })
      .then(response => response.json())
      .then(data => {
        jobFormPopup.style.display = 'none';
        successPopup.style.display = 'block';
      })
      .catch(error => {
        console.error('Error sending webhook:', error);
      });
    });

    // Close Success Popup
    function closeSuccessPopup() {
      successPopup.style.display = 'none';
    }
  </script>

</body>
</html>
